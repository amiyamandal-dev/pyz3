# LLDB initialization file for debugging pyz3 extensions
# Place this in your project root or home directory (~/.lldbinit)

# Pretty printing settings
settings set target.process.stop-on-exec false
settings set target.x86-disassembly-flavor intel

# Python integration
command script import lldb.macosx.crashlog
command script import lldb.macosx.heap

# Useful aliases
command alias bd breakpoint disable
command alias be breakpoint enable
command alias bl breakpoint list
command alias bp breakpoint set
command alias bpl breakpoint set --file %1 --line %2

# pyz3-specific helpers
command regex pyz3-break 's/(.+)/breakpoint set --name %1/'

# Auto-load Python pretty printers (if available)
# command script import /path/to/pyz3_printers.py

# Print helpful message
script print("\nüêõ LLDB initialized for pyz3 debugging")
script print("   Use 'pyz3-break function_name' to set breakpoints")
script print("   Use 'image list' to see loaded modules")
script print("   Use 'bt' for backtrace\n")
